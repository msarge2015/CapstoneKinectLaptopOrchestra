<Window x:Class="LaptopOrchestra.Kinect.ConfigurationTool"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:LaptopOrchestra.Kinect"
    Title="ConfigurationTool" Height="600" Width="600">
    <Window.Resources>
        <ObjectDataProvider x:Key="Joints" ObjectType="{x:Type local:DataClass}" MethodName="GetJoints"/>
        <CollectionViewSource x:Key="AllJoints" Source="{StaticResource Joints}" Filter="listFilter"/>
        <CollectionViewSource x:Key="SentJoints" Source="{StaticResource Joints}" Filter="sendFilter"/>

        <DataTemplate x:Key="JointDataTemplate"
                      DataType="{x:Type local:ListJoint}">            
            <TextBlock Text="{Binding jointType}"/>
        </DataTemplate>
    </Window.Resources>
    <Grid ShowGridLines="False"
          >
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="11.333"/>
            <ColumnDefinition Width="14"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <StackPanel Orientation="Vertical" Grid.Column="0" Grid.Row="0" Margin="0,0,0,-0.333">
            <Label Name="lblLeftTitle" Content="{Binding LeftHeader, FallbackValue=Available}"/>
            <ListView Name="lvwLeft" MinHeight="600"
                  ItemsSource="{Binding Source={StaticResource AllJoints}}"
                  ItemTemplate="{StaticResource JointDataTemplate}"/>
        </StackPanel>
        <WrapPanel Grid.Column="1" Grid.Row="0"
               DataContext="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}" Grid.ColumnSpan="2" Margin="0,0,0.333,-0.333">
            <Button Name="btnMoveRight" Command="{Binding MoveRightCommand}" 
                CommandParameter="{Binding ElementName=lvwLeft, Path=SelectedItem}"
                Content="&gt;" Width="25" Margin="0,35,0,0"/>
            <Button Name="btnMoveAllRight" Command="{Binding MoveAllRightCommand}" 
                CommandParameter="{Binding Source={StaticResource AllJoints}}"
                Content="&gt;&gt;" Width="25" Margin="0,05,0,0"/>
            <Button Name="btnMoveLeft" Command="{Binding MoveLeftCommand}" 
                CommandParameter="{Binding ElementName=lvwRight, Path=SelectedItem}"
                Content="&lt;" Width="25" Margin="0,25,0,0"/>
            <Button Name="btnMoveAllLeft" Command="{Binding MoveAllLeftCommand}" 
                CommandParameter="{Binding Source={StaticResource SentJoints}}"
                Content="&lt;&lt;" Width="25" Margin="0,05,0,0"/>
        </WrapPanel>
        <StackPanel Orientation="Vertical" Grid.Column="2" Grid.Row="0" Grid.ColumnSpan="2" Margin="13.667,0,0.333,-0.333">
            <Label Name="lblRightTitle" Content="{Binding RightHeader, FallbackValue=Selected}"/>
            <ListView Name="lvwRight" MinHeight="600"
                  ItemsSource="{Binding Source={StaticResource SentJoints}}"
                  ItemTemplate="{StaticResource JointDataTemplate}"/>
        </StackPanel>
    </Grid>
</Window>    